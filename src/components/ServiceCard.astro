---
interface Props {
  title: string;
  description: string;
  icon: string;
}

const { title, description, icon } = Astro.props;
---

<div class="card group relative w-full h-full bg-white rounded-xl p-[2px]">
  
  <div class="relative h-full bg-white rounded-xl p-6 flex flex-col items-center z-10">
    
    <div class="mb-4">
      <div class="w-16 h-16 bg-sky-50 rounded-full flex items-center justify-center group-hover:bg-sky-100 transition-colors duration-300">
        {icon === 'speed' && (
          <svg class="w-8 h-8 text-sky-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
          </svg>
        )}
        {icon === 'shield' && (
          <svg class="w-8 h-8 text-sky-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
          </svg>
        )}
        {icon === 'support' && (
          <svg class="w-8 h-8 text-sky-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
          </svg>
        )}
      </div>
    </div>

    <h3 class="title-hover-card text-xl font-bold text-gray-900 mb-2 text-center">{title}</h3>
    <p class="text-gray-600 text-center text-sm leading-relaxed">{description}</p>
  </div>
</div>

<style>
  .card {
    position: relative;
    border-radius: 12px;
    cursor: pointer;
    /* Aseguramos que nada se salga demasiado si no queremos */
    isolation: isolate; 
  }

  /* El borde/fondo animado */
  .card::before {
    content: "";
    position: absolute;
    inset: -2px; /* Grosor del borde inicial */
    border-radius: 14px;
    background: linear-gradient(-45deg, #38bdf8 0%, #2563eb 100%);
    
    /* CRÍTICO: Cambié z-index a negativo para asegurar que quede DETRÁS */
    z-index: -1; 
    
    pointer-events: none;
    transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }

  /* El brillo (Glow) */
  .card::after {
    content: "";
    z-index: -2; /* Aún más atrás */
    position: absolute;
    inset: 0;
    background: linear-gradient(-45deg, #38bdf8 0%, #2563eb 100%);
    transform: translate3d(0, 0, 0) scale(0.95);
    filter: blur(20px);
    opacity: 0;
    transition: opacity 0.4s ease;
  }

  /* ESTADOS HOVER */

  .card:hover::after {
    opacity: 0.5; /* Bajé un poco la opacidad para que no sea tan agresivo */
    filter: blur(25px); /* Un poco menos de blur para que no manche tanto */
  }

  .card:hover::before {
    /* AQUÍ ESTÁ EL CAMBIO:
       1. rotate(-90deg): Se mantiene el giro.
       2. scaleX(1.05): Antes era 1.34. Ahora solo crece un 5% verticalmente.
       3. scaleY(0.95): Se hace un pelín más angosto a los lados para estilizar.
    */
    transform: rotate(-90deg) scaleX(1.05) scaleY(0.95);
  }

  /* Animación hover para títulos de tarjetas */
  .title-hover-card {
    position: relative;
    display: inline-block;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .title-hover-card::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 50%;
    transform: translateX(-50%);
    width: 0;
    height: 2px;
    background: linear-gradient(90deg, #38bdf8 0%, #2563eb 100%);
    transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    border-radius: 1px;
  }

  .card:hover .title-hover-card {
    color: #0284c7;
    transform: scale(1.05);
  }

  .card:hover .title-hover-card::after {
    width: 80%;
  }
</style>